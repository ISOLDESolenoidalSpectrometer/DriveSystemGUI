# Use this file to put the options into the DriveSystem setup
# The commented lines show the default values - please change them for your needs!!
# In case of problems, please contact patrick.macgregor@cern.ch

# FILE PATHS
BeamBlockerImagePath: beam_blocker_is711_trans50_small.png
TargetLadderImagePath: target_ladder_is711_small.png
2DLadderLabelMapPath: id_label_map.txt
2DLadderEncoderPositionMapPath: id_dist_map.txt

# ELEMENTS IN USE
TargetLadderDimension: 2
BeamBlockerEnabled : True
#DisabledAxes: 1
ExperimentalMode: True

# CONSTANTS
# Note that this is the PHYSICAL length of the silencer. It is assumed that the distance to silicon from the array tip is 18.5 mm, and the distance the silencer sticks in the magnet is 32.6 mm. Therefore, the blocking distance is SilencerLength + 18.5 mm - 32.6 mm [see elog:1441]
SilencerLength: 71.48

# This file contains information about how to push things to Grafana, so that the details aren't accidentally leaked to the wider world!
GrafanaAuthentication: .grafana_authority.txt

# ALIGNMENT
# Please give all distances in mm relative to the target *at the given encoder positions*, and please make them all positive, or you'll mess things up!
EncoderAxis1: -62242 # Encoder position where z distance to target measured
EncoderAxis2: -40122 # Encoder position where z distance to array measured
ArrayTipToTargetLadderDistanceAtSpecifiedEncoderPositions: 502.9 # Distance between array tip and targets on the target ladder as measured at specified encoder positions
TargetLadderThickness: 5 # Distance from the targets (in mm) to the furthest point upstream on the target ladder. Positive is upstream. Can also be to impose a safety limit if unsure

# These probably shouldn't be touched, but give the reference point for the target-ladder and beam-blocker setups based on their drawings. Units are in mm. Essentially, give the reference point relative to the left and bottom edges of the images used in the BeamView objects.
TargetLadderAxis3ReferencePoint: 185.35
TargetLadderAxis5ReferencePoint: 128.602
TargetLadderReferencePointID: small_aperture
BeamBlockerAxis6ReferencePoint: 153.5
BeamBlockerAxis7ReferencePoint: 113
BeamBlockerReferencePointID: bb.small
BeamBlockerTrolleyAxisSoftLimit: -62243

# SLIT SCAN PARAMETER FILE
SlitScanOptionsFilePath: slit_scan_options.txt
TuningFrameIsTritiumFrame: 1


################################################################################
# THESE NEED TO BE IMPLEMENTED
#FCToBeamBlocker:
#TargetToSiRecoilDE:
#Atmosphere: Vacuum
#ArrayIsUpstream: True
#RecoilMode: silicon # Silcon, Gas, None # TODO THIS DOES NOTHING
